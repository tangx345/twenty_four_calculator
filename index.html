<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" context="width-device-width, initial-scale=1.0">
        <title>24 Calculator</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <script>
            var helper = function(arr, expr, res, sum) {
                if(arr.length == 0) {
                    if(Math.abs(sum - 24.0) <= 1e-6) {
                        res.push(expr);
                    }
                    return void 0;
                }
                for(let i = 0; i < arr.length; i++) {
                    var x = arr[i];
                    arr.splice(i, 1);
                    if(expr == "") {
                        helper(arr, x.toFixed(0), res, x)
                    }
                    else {
                        helper(arr, x.toFixed(0) + ' + (' + expr + ')', res, x + sum);
                        helper(arr, x.toFixed(0) + ' - (' + expr + ')', res, x - sum);
                        helper(arr, '(' + expr + ') - ' + x.toFixed(0), res, sum - x);
                        helper(arr, x.toFixed(0) + ' * (' + expr + ')', res, x * sum);
                        if(sum != 0) {
                            helper(arr, x.toFixed(0) + ' / (' + expr + ')', res, x / sum);
                        }
                        helper(arr, '(' + expr + ') / ' + x.toFixed(0), res, sum / x);
                    }
                    arr.splice(i, 0, x);
                }
            }

            var twenty_for = function(arr) {
                var expr = "", res = [], sum = 0.0;
                helper(arr, expr, res, sum);
                return res;
            }

            var calc = function() {
                var x1 = parseFloat(document.getElementById("in1").value);
                var x2 = parseFloat(document.getElementById("in2").value);
                var x3 = parseFloat(document.getElementById("in3").value);
                var x4 = parseFloat(document.getElementById("in4").value);
                if(isNaN(x1) || isNaN(x2) || isNaN(x3) || isNaN(x4))
                    return "Invalid Input!"
                else {
                    var arr = [x1, x2, x3, x4];
                    res = twenty_for(arr);
                    if(res.length > 0) {
                        return res[0];
                    }
                    else {
                        return "No Solution!";
                    }
                }
            }
        </script>

        <div class="container">
            <div class="calculator">
                <form>
                    <div class="inclass">
                        <input type="text" name="input1" id="in1">
                        <input type="text" name="input2" id="in2">
                        <input type="text" name="input3" id="in3">
                        <input type="text" name="input4" id="in4">
                    </div>
                    <div>
                        <input type="button" value="CALC" onclick="output.value = calc() ">
                    </div>
                    <div class="outclass">
                        <input type="text" name="output">
                    </div>
                </form>
            </div>
        </div>
    </body>
</html>